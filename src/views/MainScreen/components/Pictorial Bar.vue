<script>
export default {
  methods: {
    picture() {
      var that = this;
      // 基于准备好的dom，初始化echarts实例
      var myChart = this.$echarts.init(document.getElementById('pictorialBar'));
      const pathSymbols = {
        养老保险: 'path://M819.918596 878.843509H754.526316a8.982456 8.982456 0 0 1-8.982456-8.982456v-158.270878a13.832982 13.832982 0 0 0-15.090527-11.677193c-8.26386 0-15.270175 5.389474-15.270175 11.497544l-0.898246 8.084211a51.020351 51.020351 0 0 1-96.830877 1.257544 80.662456 80.662456 0 0 1-9.341754-6.647018l-6.10807-5.209824v160.785965a8.982456 8.982456 0 0 1-8.982457 8.982456H172.283509a8.982456 8.982456 0 0 1-8.802807-7.365614 111.382456 111.382456 0 0 1 0-31.438597v-16.707368c0-148.569825 99.525614-311.33193 231.567719-378.88a112.280702 112.280702 0 0 1 23.354386-10.060351 73.296842 73.296842 0 0 1 63.955088 13.832982l217.375438 183.601404a112.280702 112.280702 0 0 1 32.157193-4.670877 104.016842 104.016842 0 0 1 73.656141 29.642105 76.171228 76.171228 0 0 1 22.815438 54.972631v158.270878a9.162105 9.162105 0 0 1-8.443509 8.982456z m-55.870877-17.964913h46.888421V711.410526a59.643509 59.643509 0 0 0-17.964912-42.217544 86.590877 86.590877 0 0 0-61.619649-24.252631 87.668772 87.668772 0 0 0-30.72 5.389474 8.802807 8.802807 0 0 1-8.802807-1.616843l-2.335439-1.97614L470.680702 461.698246a55.870877 55.870877 0 0 0-47.607018-10.24 110.124912 110.124912 0 0 0-18.863158 8.08421c-125.754386 64.314386-222.944561 223.663158-222.944561 363.609825v17.964912a116.232982 116.232982 0 0 0 0 19.402105h403.312281v-171.025965a9.162105 9.162105 0 0 1 14.910877-6.826666l20.839298 17.964912a50.661053 50.661053 0 0 0 9.701053 6.467368 8.802807 8.802807 0 0 1 4.850526 7.006316A30.001404 30.001404 0 0 0 666.138947 736.561404a30.540351 30.540351 0 0 0 31.079299-20.65965v-5.928421A31.258947 31.258947 0 0 1 730.992281 682.666667a31.618246 31.618246 0 0 1 33.055438 29.642105zM520.982456 812.014035H264.982456a8.802807 8.802807 0 0 1-8.802807-7.365614 69.164912 69.164912 0 0 1 0-19.941053v-10.06035a279.354386 279.354386 0 0 1 142.641404-233.54386 9.162105 9.162105 0 0 1 12.21614 3.952281 8.982456 8.982456 0 0 1-3.952281 12.036491 263.904561 263.904561 0 0 0-132.940351 217.375438 101.681404 101.681404 0 0 1 0 11.317895v8.084211h238.035088V693.445614a8.982456 8.982456 0 0 1 17.964912 0v109.585965a8.982456 8.982456 0 0 1-9.162105 8.982456z m-91.441403-91.800702a8.982456 8.982456 0 0 1-8.26386-5.389473c-11.138246-25.869474 21.557895-92.16 41.498947-102.040702 17.066667-8.623158 66.470175 22.276491 104.915088 49.583158a8.982456 8.982456 0 0 1 2.15579 12.575438 9.162105 9.162105 0 0 1-12.575439 1.976141c-38.624561-27.486316-78.686316-49.583158-87.129825-47.786667-11.317895 5.748772-39.522807 62.158596-32.336842 78.686316a8.982456 8.982456 0 0 1-4.670877 11.677193 8.084211 8.084211 0 0 1-3.413333 0.718596z m211.087719-209.291228a148.929123 148.929123 0 0 1-145.875088-105.274386l-42.93614 10.419649a32.69614 32.69614 0 0 1-40.241404-21.917193 31.258947 31.258947 0 0 1 5.928421-23.713684 81.92 81.92 0 0 1 35.929825-34.67228h2.335439l12.395789-56.589474v-1.796491a125.754386 125.754386 0 0 1 16.887018-39.343158c25.330526-35.929825 202.464561-69.883509 227.615438-56.409825A252.407018 252.407018 0 0 1 756.322807 215.578947l32.875789 38.804211a109.047018 109.047018 0 0 1 56.769123 12.934737 28.923509 28.923509 0 0 1 14.731228 14.731228 28.384561 28.384561 0 0 1-2.335438 23.354386 33.953684 33.953684 0 0 1-21.198597 15.988772l-51.2 12.755087a126.652632 126.652632 0 0 1 5.569123 37.546667c0 76.350877-67.727719 139.22807-150.905263 139.22807z m-139.22807-125.754386a9.521404 9.521404 0 0 1 4.850526 1.437193 9.341754 9.341754 0 0 1 3.952281 5.748772 130.245614 130.245614 0 0 0 130.425263 99.884912c73.296842 0 132.940351-54.792982 132.940351-122.161403a106.53193 106.53193 0 0 0-7.724912-40.421053 9.880702 9.880702 0 0 1 0-7.545263 9.341754 9.341754 0 0 1 5.928421-4.491228l60.721403-15.270175a15.449825 15.449825 0 0 0 9.880702-7.365614A10.958596 10.958596 0 0 0 844.350877 287.438596a80.123509 80.123509 0 0 0-55.33193-14.910877 8.802807 8.802807 0 0 1-9.341754-2.874386l-35.929825-42.217544A244.322807 244.322807 0 0 0 704.943158 197.614035c-17.964912-8.802807-184.679298 22.635789-204.440702 51.020351a103.298246 103.298246 0 0 0-13.832982 33.055439l-13.832983 63.056842a9.162105 9.162105 0 0 1-6.647017 6.826666l-7.724913 1.796492a68.446316 68.446316 0 0 0-29.462456 35.929824 14.910877 14.910877 0 0 0 17.964913 8.982456l51.738947-12.575438z',
        企业: 'path://M1189.542786 858.07708l-31.450341 0L1158.092445 400.980969c0-27.679906-22.433002-50.119124-50.122232-50.119124l-224.507193 0L883.463019 50.122232c0-27.679906-22.433002-50.122232-50.122232-50.122232L337.12913 0c-27.673689 0-50.119124 22.442327-50.119124 50.122232l0 807.954847-11.364148 0c-27.679906 0-50.122232 22.433002-50.122232 50.109799l0 65.688877c0 27.676798 22.442327 50.119124 50.122232 50.119124l913.896928 0c27.683015 0 50.116015-22.442327 50.116015-50.119124l0-65.688877C1239.658802 880.510081 1217.228909 858.07708 1189.542786 858.07708L1189.542786 858.07708zM739.785502 674.979398c0 27.689231-22.445435 50.122232-50.122232 50.122232l-208.84419 0c-27.683015 0-50.122232-22.433002-50.122232-50.122232l0-15.035116c0-27.679906 22.439219-50.116015 50.122232-50.116015l208.84419 0c27.676798 0 50.122232 22.43611 50.122232 50.116015L739.785502 674.979398 739.785502 674.979398zM739.785502 456.116978c0 27.679906-22.445435 50.122232-50.122232 50.122232l-208.84419 0c-27.683015 0-50.122232-22.442327-50.122232-50.122232l0-15.035116c0-27.679906 22.439219-50.122232 50.122232-50.122232l208.84419 0c27.676798 0 50.122232 22.442327 50.122232 50.122232L739.785502 456.116978 739.785502 456.116978zM739.785502 220.537823c0 27.683015-22.445435 50.122232-50.122232 50.122232l-208.84419 0c-27.683015 0-50.122232-22.439219-50.122232-50.122232l0-15.028899c0-27.689231 22.439219-50.125341 50.122232-50.125341l208.84419 0c27.676798 0 50.122232 22.439219 50.122232 50.125341L739.785502 220.537823 739.785502 220.537823zM1059.517166 764.372594l-133.659287 0c-23.063998 0-41.766973-18.702975-41.766973-41.77319 0-23.06089 18.702975-41.766973 41.766973-41.766973l133.659287 0c23.070215 0 41.770081 18.706083 41.770081 41.766973C1101.290357 745.66962 1082.587381 764.372594 1059.517166 764.372594L1059.517166 764.372594zM1059.517166 595.619974l-133.659287 0c-23.063998 0-41.766973-18.699867-41.766973-41.760756 0-23.07954 18.702975-41.776298 41.766973-41.776298l133.659287 0c23.070215 0 41.770081 18.699867 41.770081 41.776298C1101.290357 576.920107 1082.587381 595.619974 1059.517166 595.619974L1059.517166 595.619974zM1059.517166 595.619974',
        职工: 'path://M800.5 612.3c15.1 7.5 22.6 20.3 22.6 38.3v171.3c0 11.3-3.4 21-10.2 29.3-6.8 8.3-15.4 12.4-26 12.4H232.6c-9.8 0-18.1-4.1-24.8-12.4-6.8-8.3-10.2-18-10.2-29.3V650.7c0-18 7.5-30.8 22.6-38.3L376 540.2l61-28.2c-28.6-17.3-50.4-42.1-65.5-74.4-14.3-28.6-21.4-59-21.4-91.3 0-9.8 0.8-19.2 2.3-28.2 1.5-9 3.4-17.7 5.6-25.9 10.5-38.3 29.5-69.9 57-94.7 27.5-24.8 59.3-37.2 95.4-37.2 36.9 0 69.2 12.8 97.1 38.3 27.8 25.6 46.7 57.9 56.4 97 3.8 18.8 5.6 35.7 5.6 50.7 0 30.1-6 59-18.1 86.8-15.1 33.8-36.9 59.4-65.5 76.7l64.4 30.4 150.2 72.1zM197.6 565c-16.6 7.5-29.5 19-39 34.4-9.4 15.4-14.1 32.5-14.1 51.3v145.4H28.2c-8.3 0-15.1-3.2-20.3-9.6-5.3-6.3-7.9-14.4-7.9-24.2V624.8c0-16.5 6-27.1 18.1-31.6l175-81.2c-21.1-12.8-38-31-50.8-54.7-12.8-23.7-19.2-50.2-19.2-79.5 0-20.3 3.4-39.7 10.2-58.1 6.8-18.4 16-34.4 27.7-47.9s25.2-24.2 40.6-32.1c15.4-7.9 32.2-11.8 50.2-11.8 12 0 23.3 1.9 33.9 5.6 10.5 3.8 20.7 8.6 30.5 14.7-12.8 31.6-19.2 64.3-19.2 98.1 0 26.3 3.8 51.7 11.3 76.1 7.5 24.4 18.1 46.4 31.6 66-8.3 9-16.9 16.2-26 21.4L197.6 565z m808.3 28.2c12 6 18.1 16.5 18.1 31.6v137.6c0 9.8-2.6 17.9-7.9 24.2-5.3 6.4-12 9.6-20.3 9.6H876.1V650.7c0-18.8-4.7-35.9-14.1-51.3-9.4-15.4-22-26.9-37.8-34.4l-111.8-53c-10.5-6-20.7-14.7-30.5-25.9 12.8-19.5 22.8-41.2 29.9-64.8 7.1-23.7 10.7-48.7 10.7-75 0-17.3-1.5-33.8-4.5-49.6-3-15.8-7.5-31.2-13.5-46.2 9.8-6.8 20.3-12.2 31.6-16.3 11.3-4.1 23-6.2 35-6.2 18.1 0 35 3.9 50.8 11.8 15.8 7.9 29.5 18.6 41.2 32.1 11.7 13.5 20.9 29.5 27.7 47.9 6.8 18.4 10.2 37.8 10.2 58.1 0 28.6-6.4 54.7-19.2 78.4-12.8 23.7-29 41.9-48.5 54.7l172.6 82.2z',
        养老金: 'path://M1189.668571 811.739429c35.986286 0 51.456 16.310857 51.456 53.540571v83.675429a41.837714 41.837714 0 0 1-44.361142 45.202285H508.891429a499.565714 499.565714 0 0 0 304.201142-180.772571H1189.668571zM426.057143 56.502857c237.714286 3.657143 427.52 199.094857 424.265143 436.809143 1.865143 237.750857-189.001143 432.201143-426.788572 434.724571A431.798857 431.798857 0 0 1 0.109714 486.180571C0.548571 250.514286 190.390857 59.026286 426.057143 56.466286zM352.841143 293.302857H209.334857L321.828571 502.491429H222.72v70.326857H362.057143v41.837714H222.72v71.533714H362.057143v89.965715h129.682286v-88.685715h136.009142V615.862857h-136.009142v-41.837714h136.009142v-71.533714h-94.573714l110.884572-209.188572h-146.029715l-71.972571 163.145143L352.841143 293.302857z m758.162286 249.380572c23.113143 0 41.837714 18.724571 41.837714 41.837714v95.817143l0.402286 1.682285c0 23.113143-18.724571 41.837714-41.837715 41.837715H870.034286a527.981714 527.981714 0 0 0 52.736-181.174857z m82.432-271.140572l1.682285 1.28a41.837714 41.837714 0 0 1 47.689143 48.530286v83.675428a41.837714 41.837714 0 0 1-46.445714 47.286858h-271.140572a523.812571 523.812571 0 0 0-46.445714-180.772572h314.660572zM1017.270857 0.438857a41.837714 41.837714 0 0 1 47.286857 47.689143v86.198857a41.837714 41.837714 0 0 1-45.604571 46.811429h-195.401143a541.184 541.184 0 0 0-41.837714-51.017143 489.545143 489.545143 0 0 0-209.188572-129.682286z',
        个人账户: 'path://M760.064842 564.394434c-126.041069 0-228.300804 102.259735-228.300804 228.300804S633.898608 1020.996042 760.064842 1020.996042c126.041069 0 228.300804-102.259735 228.300804-228.300804s-102.259735-228.300804-228.300804-228.300804z m93.873686 251.456313v-5.507256c11.014512 0 22.15419 8.260884 22.15419 22.15419 0 13.768141-8.260884 22.15419-22.15419 22.15419h-71.844661v80.105545c0 11.014512-8.260884 22.15419-22.15419 22.15419-13.768141 0-22.15419-8.260884-22.15419-22.15419v-80.105545h-71.844661c-11.014512 0-22.15419-8.260884-22.15419-22.15419 0-13.768141 8.260884-22.15419 22.15419-22.15419h77.351917v-35.922331h-77.351917c-11.014512 0-22.15419-8.260884-22.15419-22.154189 0-13.768141 8.260884-22.15419 22.15419-22.15419h46.936843L679.959297 658.393285c-5.507256-11.014512 0-22.15419 11.014512-27.661447 11.014512-5.507256 22.15419 0 27.661446 11.014513l35.922331 91.120058h11.014512l33.168703-88.36643c2.753628-11.014512 16.521769-16.521769 27.661446-11.014512 11.014512 2.753628 16.521769 16.521769 11.014512 27.661446l-27.661446 74.598289h44.183215c11.014512 0 22.15419 8.260884 22.15419 22.15419 0 13.768141-8.260884 22.15419-22.15419 22.15419h-71.844661v35.92233h71.844661z',
      };
      var option = {
        tooltip: {
          trigger: 'axis',
          axisPointer: {
            type: 'none'
          },
          formatter: function (params) {
            return params[0].name + ': ' + params[0].value;
          }
        },
        xAxis: {
          data: ['养老保险', '企业', '职工', '养老金', '个人账户'],
          axisTick: {show: false},
          axisLine: {show: false},
          axisLabel: {
            color: '#3399ff',
            interval: 0 // 显示所有标签
          }
        },
        yAxis: {
          splitLine: {show: false},
          axisTick: {show: false},
          axisLine: {show: false},
          axisLabel: {show: false}
        },
        color: ['#3399ff'],
        series: [
          {
            name: 'hill',
            type: 'pictorialBar',
            barCategoryGap: '-100%',
            //symbol: 'path://M0,10 L10,10 L5,0 L0,10 z',
            symbol: 'path://M0,10 L10,10 C5.5,10 5.5,5 5,0 C4.5,5 4.5,10 0,10 z',
            itemStyle: {
              opacity: 0.5
            },
            emphasis: {
              itemStyle: {
                opacity: 1
              }
            },
            data: [1820, 1380, 1420, 930, 1180],
            z: 10
          },
          {
            name: 'glyph',
            type: 'pictorialBar',
            barGap: '-80%',
            symbolPosition: 'end',
            symbolSize: 50,
            symbolOffset: [0, '-135%'],
            data: [
              {
                value: 1820,
                symbol: pathSymbols.养老保险,
                symbolSize: [50, 50],
                symbolOffset: [-10, -60]
              },
              {
                value: 1380,
                symbol: pathSymbols.企业,
                symbolSize: [50, 45],
                symbolOffset: [-10, -60]
              },
              {
                value: 1420,
                symbol: pathSymbols.职工,
                symbolSize: [50, 40],
                symbolOffset: [-10, -40]
              },
              {
                value: 950,
                symbol: pathSymbols.养老金,
                symbolSize: [50, 50],
                symbolOffset: [-20, -60]
              },
              {
                value: 1180,
                symbol: pathSymbols.个人账户,
                symbolSize: [50, 45],
                symbolOffset: [-10, -55]
              }
            ]
          }
        ]
      };
      myChart.setOption(option);
      setInterval(() => {
        myChart.clear(); // 清除当前图表
        myChart.setOption(option);
      }, 5000); // 每3秒刷新一次图表
      window.addEventListener("resize", function () {
        myChart.resize();
      });
    },
  },
 mounted() {
      this.picture();
  }
}
</script>

<template>
  <div id="size">
    <div id="pictorialBar" style="width: 100%; height: 100%"></div>
  </div>
</template>

<style scoped>
#size {
  width: 100%;
  height: 5rem;
}

</style>